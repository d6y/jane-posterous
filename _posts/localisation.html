title: Localisation
date: 2007/06/26 12:47:00 -0700
tags: [{"name":".NET","id":58668671},{"name":"localisation","id":3772949}]
author: Jane Dallaway
alias: /localisation

The current project I'm working on is going to be delivered in Dutch.  I figured I had 2 choices, the hard coded method or a resource based method.  The hard coded method would be ok, but as the whole of the site is being presented in Dutch my fear was that it would make testing, and maintenance incredible hard (for the record I don't speak Dutch!).  The resource based method might take slightly longer to implement, but not enough to prevent me from doing it.<p />So, I'm using the .NET <a href="http://msdn2.microsoft.com/en-us/library/system.resources.resourcemanager(VS.80).aspx">ResourceManager</a> class to manage my resources files and using <a href="http://msdn2.microsoft.com/en-us/library/ccec7sz1(VS.80).aspx">resgen</a> to take a text file of name value pairs and generate the .resources file.  <p />My naming strategy for the text items are XXX_YYY_Key where:<br />XXX is the main area of the project - i.e. admin, front end, etc<br />YYY is the module of the area - i.e. article, menu, etc<br />Key is the "thing" we're providing text for - i.e. title, contact name, email address, etc<br />so, ADMIN_ARTICLE_Title = Title etc<p />I have 2 files, one in English, one in Dutch and I use an <a href="http://www.odetocode.com/Articles/345.aspx">appSetting in my web.config</a> file to specify what my DefaultCulture should be.  The site will only run in either Dutch or English so there is no need to make anything more complicated that this, and it allows development and maintenance to be affected in English, whilst the live site is presented in Dutch.<p />This is all working well, but then I got to thinking about the javascript and drew a blank through my google searching.  Some of my javascript files perform validation, and alert the user with appropriate messages if the content isn't valid.  I asked some of my <a href="http://www.glennjones.net/Home/">local</a> <a href="http://adactio.com/">brains</a> and still came up with a blank, a few names were banded about, but I didn't get to HackDay and so didn't get to pick their brains.<p />At the moment, I've added a line to my resources file to contain the javascript file to include in the file.  This allows there to be muliple validation files, one per language if I want - at the moment there is just one file and it's in Dutch.  But really this isn't a great solution.  I've started doing some <a href="http://jane.dallaway.com/Research/">investigation and playing</a>, but haven't really had the time to progress it any further.<p />The current 4 options to do this that I can think of are:<br /><ol><li><a href="http://jane.dallaway.com/Research/Basic/index.html">Basic</a> - 2 javascript files, one per language - duplicate functionality</li><li><a href="http://jane.dallaway.com/Research/Literals/index.html">Literals</a> - 3 javascript files - one per language, plus one with functionality</li><li>A self detecting piece of javascript that works out the locale from some setting and thus includes the appropriate literals file (or other data store method) dynamically</li><li>A method using a better form of data store than variables</li></ol><br />Anyone done any localisation/localization in javascript and got any more options or solutions for me?<div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/14400377-920164240744300106?l=jane.dallaway.com%2Fblog%2Fblog.html" height="1" alt="" width="1" /></div>
