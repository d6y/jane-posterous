title: NTS: Use of grep to count instances of a certain phrase in a file
date: 2008/01/23 12:16:00 -0800
tags: [{"name":"nts","id":3772776},{"name":"unix","id":3772775}]
author: Jane Dallaway
alias: /nts-use-of-grep-to-count-instances-of-a-certa

I got an email from <a href="http://www.geni.com/home">Geni</a> (more <a href="http://www.janeandrichard.co.uk/blog/archive/2007_06_01_index.xml#5173163003633191472">here</a>) today asking how many people I had in my <a href="http://en.wikipedia.org/wiki/GEDCOM">GEDCOM</a> file to import.  A GEDCOM file is a formatted text file with a format similar to the following (taken from the <a href="http://en.wikipedia.org/wiki/GEDCOM#Example">wikipedia example</a>):<br /><span class="code">0 @I1@ INDI<br /> 1 NAME Bob /Cox/<br /> 1 SEX M<br /> 1 FAMS @F1@<br /> 1 CHAN <br /> 2 DATE 11 FEB 2006<br /> 0 @I2@ INDI<br /> 1 NAME Joann /Para/<br /> 1 SEX F<br /> 1 FAMS @F1@<br /> 1 CHAN <br /> 2 DATE 11 FEB 2006<br /> 0 @I3@ INDI<br /> 1 NAME Bobby Jo /Cox/<br /> 1 SEX M<br /> 1 FAMC @F1@<br /> 1 CHAN <br /> 2 DATE 11 FEB 2006<br /> 0 @F1@ FAM<br /> 1 HUSB @I1@<br /> 1 WIFE @I2@<br /> 1 MARR <br /> 1 CHIL @I3@</span><p />To get the number of people I would want to import, I wanted to count the number of instances of "1 NAME" entries.  I knew that <a href="http://blog.spiralarm.com/richard/">Richard</a> would be able to provide a nice easy answer that wouldn't involve lots of scripting.  And of course he pointed me in the direction of <a href="http://en.wikipedia.org/wiki/Grep">grep</a> and <a href="http://www.linuxjournal.com/article/1327">wc</a>.<p />The finished product is <span class="code">grep '1 NAME' /Users/jane/Documents/file.GED  | wc -l</span> which searches for '1 NAME' amongst the file /Users/jane/Documents/file.GED and then pipes the output into the wc command specifying -l to get the line count.<div class="blogger-post-footer"><img class="posterous_download_image" src="https://blogger.googleusercontent.com/tracker/14400377-4594717733207642800?l=jane.dallaway.com%2Fblog%2Fblog.html" height="1" alt="" width="1" /></div>
