title: spu_generateinsert - identity columns can now be ignored
date: 2009/01/07 04:36:00 -0800
tags: [{"name":"download","id":3772557},{"name":"SQLServer","id":58674260}]
author: Jane Dallaway
alias: /spugenerateinsert-identity-columns-can-now-be

<p>One of my colleagues suggested an update to <a href="https://github.com/janedallaway/SQL-Server-Helper-Scripts/blob/master/spu_generateInsert.sql">spu_generateinsert</a> before Christmas, and today was the first time I got a chance to script it.  The suggestion was to prevent <span class="code">IDENTITY</span> columns from being scripted.  <p />I've added a new parameter to the procedure, named @GenerateIdentityColumn, which I have set to default to 1.  This means it maintains the current behaviour.  If you set it to 0 though, you will no longer get the <br /><span class="code">SET IDENTITY_INSERT [tablename] ON</span><br />and <br /><span class="code">SET IDENTITY_INSERT [tablename] OFF</span><br />statements, and the identity column itself will not be included in the script, which means that the database will assign the relevant value.<p />Example usage is<br /><span class="code">exec spu_GenerateInsert @table ='users', @generateGo=0, @restriction='columna = x', @producesingleinsert=0, @debug=0, @GenerateOneLinePerColumn=0, @GenerateIdentityColumn=0</span><p />As ever this is work in progress, so please continue sending in your suggestions and I'll attempt to implement them.<p />Download the script from <a href="https://github.com/janedallaway/SQL-Server-Helper-Scripts/blob/master/spu_generateInsert.sql">here</a>.</p>
